<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register - TCC E-Voting System</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <main class="auth-container">
            <div class="auth-card">
                <div id="registerMessage" class="message"></div>
                
                <div class="logo">
                    <div class="logo-container">
                        <img src="../../images/logo1.png" alt="Logo 1" class="login-logo">
                        <img src="../../images/logo2.png" alt="Logo 2" class="login-logo">
                        <img src="../../images/logo3.png" alt="Logo 3" class="login-logo">
                    </div>
                <h2>Register</h2>
                <form id="registerForm" method="post" onsubmit="return false;">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="firstName">First Name</label>
                            <input type="text" id="firstName" name="firstName" required>
                        </div>
                        <div class="form-group">
                            <label for="lastName">Last Name</label>
                            <input type="text" id="lastName" name="lastName" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <div class="label-with-button">
                            <label for="middleInitial">Middle Initial</label>
                            <button type="button" id="toggleMiddleInitial" class="btn btn-secondary btn-small">Add Middle Initial</button>
                        </div>
                        <input type="text" id="middleInitial" name="middleInitial" class="form-control" disabled>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="year">Year</label>
                            <select id="year" name="year" required>
                                <option value="">Select Year</option>
                                <option value="1">1st Year</option>
                                <option value="2">2nd Year</option>
                                <option value="3">3rd Year</option>
                                <option value="4">4th Year</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="section">Section</label>
                            <select id="section" name="section" required>
                                <option value="">Select Section</option>
                                <option value="A">A</option>
                                <option value="B">B</option>
                                <option value="C">C</option>
                                <option value="D">D</option>
                                <option value="E">E</option>
                                <option value="F">F</option>
                                <option value="G">G</option>
                                <option value="H">H</option>
                                <option value="I">I</option>
                                <option value="J">J</option>
                                <option value="K">K</option>
                                <option value="L">L</option>
                                <option value="M">M</option>
                                <option value="N">N</option>
                                <option value="O">O</option>
                                <option value="P">P</option>
                                <option value="Q">Q</option>
                                <option value="R">R</option>
                                <option value="S">S</option>
                                <option value="T">T</option>
                                <option value="U">U</option>
                                <option value="V">V</option>
                                <option value="W">W</option>
                                <option value="X">X</option>
                                <option value="Y">Y</option>
                                <option value="Z">Z</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="course">Course</label>
                        <select id="course" name="course" required>
                            <option value="">Select Course</option>
                            <option value="Bachelor of Science in Community Development">Bachelor of Science in Community Development</option>
                            <option value="Bachelor of Science in Information Technology">Bachelor of Science in Information Technology</option>
                            <option value="Bachelor of Science in Business Administration">Bachelor of Science in Business Administration</option>
                            <option value="Bachelor of Science in Hospitality Management">Bachelor of Science in Hospitality Management</option>
                            <option value="Bachelor of Science in Engineering Technology">Bachelor of Science in Engineering Technology</option>
                            <option value="Bachelor of Library and Information Science">Bachelor of Library and Information Science</option>
                            <option value="Bachelor of Science in Criminology">Bachelor of Science in Criminology</option>
                            <option value="Bachelor of Science in Midwifery">Bachelor of Science in Midwifery</option>
                            <option value="Bachelor of Elementary Education">Bachelor of Elementary Education</option>
                            <option value="Bachelor of Secondary Education">Bachelor of Secondary Education</option>
                            <option value="Bachelor of Physical Education">Bachelor of Physical Education</option>
                            <option value="Bachelor of Arts in Sociology">Bachelor of Arts in Sociology</option>
                            <option value="Certificate for Professional Teaching">Certificate for Professional Teaching</option>
                            <option value="Graduate in Midwifery">Graduate in Midwifery</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="studentId">Student ID</label>
                        <input type="text" id="studentId" name="studentId" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="password">Password</label>
                            <div class="input-group">
                                <input type="password" id="password" name="password" class="form-control" required>
                                <div class="input-group-append">
                                    <button type="button" class="btn btn-outline-secondary" id="togglePassword" aria-label="Toggle password visibility">
                                        <i class="fas fa-eye" id="togglePasswordIcon"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="confirmPassword">Confirm Password</label>
                            <div class="input-group">
                                <input type="password" id="confirmPassword" name="confirmPassword" class="form-control" required>
                                <div class="input-group-append">
                                    <button type="button" class="btn btn-outline-secondary" id="toggleConfirmPassword" aria-label="Hide password">
                                        <i class="fas fa-eye-slash" id="toggleConfirmPasswordIcon"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <button type="submit" class="btn btn-primary btn-block">Register</button>
                </form>
                
                <div class="auth-buttons-center">
                    <p class="auth-link">
                        Already have an account? <a href="/auth/login/">Login here</a>
                    </p>
                    <p class="auth-link">
                        <a href="/">Back to Home</a>
                    </p>
                </div>
                
                <footer class="copyright" style="margin-top: 20px; text-align: center; color: var(--gray-dark); font-size: 0.9rem; padding: 10px 0;">
                    &copy; 2025 Tagoloan Community College. All rights reserved.
                </footer>
            </div>
        </main>
    </div>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore-compat.js"></script>
    <script>
        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDMc7Jjalkz8ymZkLfcbjMAtZgUpYC2xeU",
            authDomain: "dsa-cose-vs.firebaseapp.com",
            projectId: "dsa-cose-vs",
            storageBucket: "dsa-cose-vs.firebasestorage.app",
            messagingSenderId: "249427875322",
            appId: "1:249427875322:web:e2a8c1a78cd1157f2f8043",
            measurementId: "G-R9WJ2VM2ZT"
        };

        // Initialize Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const firebaseAuth = firebase.auth();
        const firebaseDb = firebase.firestore();
        
        // Make Firebase services available globally
        window.firebaseApp = app;
        window.firebaseAuth = firebaseAuth;
        window.firebaseDb = firebaseDb;
        
        console.log('Firebase initialized for DSA-COSE-VS');
    </script>
    <script src="/js/api-config.js"></script>
    <script src="/js/auth.js"></script>
    <script>
        // Toggle password visibility for both password fields
        document.addEventListener('DOMContentLoaded', function() {
            // Password field
            const togglePassword = document.querySelector('#togglePassword');
            const password = document.querySelector('#password');
            const passwordIcon = togglePassword ? togglePassword.querySelector('i') : null;
            
            // Confirm password field
            const toggleConfirmPassword = document.querySelector('#toggleConfirmPassword');
            const confirmPassword = document.querySelector('#confirmPassword');
            const confirmPasswordIcon = toggleConfirmPassword ? toggleConfirmPassword.querySelector('i') : null;
            
            // Toggle password visibility for main password field
            if (togglePassword && password && passwordIcon) {
                togglePassword.addEventListener('click', function() {
                    const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
                    password.setAttribute('type', type);
                    
                    // Toggle the eye icon
                    passwordIcon.classList.toggle('fa-eye');
                    passwordIcon.classList.toggle('fa-eye-slash');
                    
                    // Update aria-label for accessibility
                    const label = type === 'password' ? 'Show password' : 'Hide password';
                    this.setAttribute('aria-label', label);
                });
            }
            
            // Toggle password visibility for confirm password field
            if (toggleConfirmPassword && confirmPassword && confirmPasswordIcon) {
                toggleConfirmPassword.addEventListener('click', function() {
                    const type = confirmPassword.getAttribute('type') === 'password' ? 'text' : 'password';
                    confirmPassword.setAttribute('type', type);
                    
                    // Toggle the eye icon
                    confirmPasswordIcon.classList.toggle('fa-eye');
                    confirmPasswordIcon.classList.toggle('fa-eye-slash');
                    
                    // Update aria-label for accessibility
                    const label = type === 'password' ? 'Show password' : 'Hide password';
                    this.setAttribute('aria-label', label);
                });
            }

            // Toggle middle initial field
            const toggleMiddleInitialBtn = document.getElementById('toggleMiddleInitial');
            const middleInitialInput = document.getElementById('middleInitial');

            if (toggleMiddleInitialBtn && middleInitialInput) {
                toggleMiddleInitialBtn.addEventListener('click', function() {
                    const isEnabled = !middleInitialInput.disabled;
                    
                    // Toggle disabled state
                    middleInitialInput.disabled = isEnabled;
                    
                    // Update button text and style
                    if (isEnabled) {
                        this.textContent = 'Add Middle Initial';
                        this.classList.remove('btn-primary');
                        this.classList.add('btn-secondary');
                        middleInitialInput.value = ''; // Clear the input when disabling
                    } else {
                        this.textContent = 'Remove Middle Initial';
                        this.classList.remove('btn-secondary');
                        this.classList.add('btn-primary');
                        middleInitialInput.focus(); // Focus the input when enabling
                    }
                });
            }
        });
    </script>
    <style>
        /* Logo and text container */
        .logo {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
            padding: 5px 0 15px 0;
            margin: 0 auto 15px auto;
        }
        
        .logo-container {
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-bottom: 5px;
            width: 100%;
        }
        
        .logo-image {
            height: 60px;
            width: auto;
            max-width: 80px;
            object-fit: contain;
            transition: transform 0.2s;
            display: block;
        }
        
        .logo-text h1 {
            font-size: 1.5rem;
            margin: 10px 0 0 0;
            color: var(--maroon);
            font-weight: 700;
            letter-spacing: 1px;
            line-height: 1.2;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
            text-align: center;
            text-transform: uppercase;
            padding-top: 5px;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        /* Adjust the register form spacing */
        .auth-card {
            padding-top: 20px;
        }
        
        /* Password input container */
        .password-input-container {
            position: relative;
            display: flex;
            align-items: center;
        }
        
        .form-control {
            padding-right: 40px; /* Make space for the toggle button */
            width: 100%;
            border-radius: 4px;
            border: 1px solid #ced4da;
            height: 38px;
        }
        
        .form-control:focus {
            border-color: #80bdff;
            box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
        }
        
        .input-group-append {
            position: absolute;
            right: 0;
            top: 0;
            height: 100%;
            z-index: 5;
            margin: 0;
        }
        
        .input-group-append .btn {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            padding: 0 12px;
            background: transparent;
            border: none;
            color: #6c757d;
            position: relative;
            right: 10px;
            z-index: 10;
        }
        
        .input-group-append .btn:hover {
            background: transparent;
            color: #6c757d;
        }
        
        .input-group-append .btn:focus {
            box-shadow: none;
            outline: none;
        }
        
        .input-group-append .btn i {
            font-size: 1rem;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
    </style>
</body>
</html>